(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{14:function(e,t,a){e.exports={imageGalleryItem:"ImageGalleryItem_imageGalleryItem__2Brwa",imageGalleryItem_image:"ImageGalleryItem_imageGalleryItem_image__2O7bW"}},15:function(e,t,a){e.exports={overlay:"Modal_overlay__3jc1b",modal:"Modal_modal__2duNE"}},26:function(e,t,a){e.exports={imageGallery:"ImageGallery_imageGallery__2IYih"}},27:function(e,t,a){e.exports={button:"Button_button__b6_P-"}},6:function(e,t,a){e.exports={searchbar:"SearchBar_searchbar__2ulpf",searchForm:"SearchBar_searchForm__1Rz1W",searchForm_button:"SearchBar_searchForm_button__3P1si",searchForm_button_label:"SearchBar_searchForm_button_label__2Ps9i",searchForm_input:"SearchBar_searchForm_input__aOAgA"}},74:function(e,t,a){},75:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(8),o=a.n(c),s=a(5),i=a.n(s),l=a(16),u=a(10),m=a(4),b=a(11),h=a(6),j=a.n(h),g=a(1),d=function(e){var t=e.onSearch;return Object(g.jsx)("header",{className:j.a.searchbar,children:Object(g.jsxs)("form",{className:j.a.searchForm,onSubmit:function(e){e.preventDefault(),t(e.target.elements.imageName.value),e.target.reset()},children:[Object(g.jsx)("button",{type:"submit",className:j.a.searchForm_button,children:Object(g.jsx)("span",{className:j.a.searchForm_button_label,children:"Search"})}),Object(g.jsx)("input",{className:j.a.searchForm_input,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",name:"imageName"})]})})},p=a(25),f=a.n(p).a.create({baseURL:"https://pixabay.com/api",params:{key:"22647650-093efc913fe4b5bfd764725e8",image_type:"photo",orientation:"horizontal",per_page:"12"}}),_=function(){var e=Object(u.a)(i.a.mark((function e(t,a){var r,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f("/?q=".concat(t,"&page=").concat(a));case 2:return r=e.sent,n=r.data,console.log(n),e.abrupt("return",n.hits);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),O=a(14),x=a.n(O),y=function(e){var t=e.webformatURL,a=e.largeImageURL,r=e.tags,n=e.handleSelectedImage;return Object(g.jsx)("li",{className:x.a.imageGalleryItem,children:Object(g.jsx)("img",{src:t,alt:r,className:x.a.imageGalleryItem_image,onClick:function(){return n(a,r)}})})},v=a(26),w=a.n(v),I=function(e){var t=e.images,a=e.handleSelectedImage;return Object(g.jsx)("ul",{className:w.a.imageGallery,children:t.map((function(e){var t=e.id,r=e.webformatURL,n=e.largeImageURL,c=e.tags;return Object(g.jsx)(y,{webformatURL:r,largeImageURL:n,tags:c,handleSelectedImage:a},t)}))})},S=a(27),F=a.n(S),k=function(e){var t=e.onClick;return Object(g.jsx)("button",{type:"button",className:F.a.button,onClick:t,children:"Load more"})},N=a(28),G=a.n(N),L=function(){return Object(g.jsx)("div",{style:{textAlign:"center"},children:Object(g.jsx)(G.a,{type:"Hearts",color:"#00BFFF",height:80,width:80})})},R=a(15),U=a.n(R),B=document.querySelector("#modal-root");function C(e){var t=e.largeImageURL,a=e.imgTag,n=e.onClose;Object(r.useEffect)((function(){return window.addEventListener("keydown",o),function(){window.removeEventListener("keydown",o)}}));var o=function(e){"Escape"===e.code&&n()};return Object(c.createPortal)(Object(g.jsx)("div",{className:U.a.overlay,onClick:function(e){e.currentTarget===e.target&&n()},children:Object(g.jsxs)("div",{className:U.a.modal,children:[" ",Object(g.jsx)("img",{src:t,alt:a})]})}),B)}function E(){var e=Object(r.useState)(null),t=Object(m.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)(""),o=Object(m.a)(c,2),s=o[0],h=o[1],j=Object(r.useState)([]),p=Object(m.a)(j,2),f=p[0],O=p[1],x=Object(r.useState)(1),y=Object(m.a)(x,2),v=y[0],w=y[1],S=Object(r.useState)("idle"),F=Object(m.a)(S,2),N=F[0],G=F[1],R=Object(r.useState)(""),U=Object(m.a)(R,2),B=U[0],E=U[1];return Object(r.useEffect)((function(){function e(){return(e=Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,G("pending"),e.next=4,_(a,v);case 4:if(t=e.sent,G("resolved"),""!==a.trim()&&0!==t.length){e.next=8;break}return e.abrupt("return",b.b.error("no picture with name ".concat(a)));case 8:O([].concat(Object(l.a)(t),Object(l.a)(t))),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"}),e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(0),G("rejected"),e.abrupt("return",b.b.error("smt going wrong"));case 16:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}a&&function(){e.apply(this,arguments)}()}),[a,v]),Object(g.jsxs)("div",{children:[Object(g.jsx)(d,{onSearch:function(e){n(e),w(1),O([])}}),f.length<1&&Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("h2",{className:"titleName",children:"The gallery is empty! Use search field!"})}),Object(g.jsx)(I,{images:f,handleSelectedImage:function(e,t){h(e),E(t)}}),"pending"===N&&Object(g.jsx)(L,{}),0!==f.length&&Object(g.jsx)(k,{onClick:function(){w((function(e){return e+1}))}}),Object(g.jsx)(b.a,{}),s&&Object(g.jsx)(C,{onClose:function(){h("")},largeImageURL:s,imgTags:B})]})}C.defaultProps={onClose:function(){return null},children:null};a(74);o.a.render(Object(g.jsx)(n.a.StrictMode,{children:Object(g.jsx)(E,{})}),document.getElementById("root"))}},[[75,1,2]]]);
//# sourceMappingURL=main.273b22a8.chunk.js.map