(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{16:function(e,t,a){e.exports={imageGalleryItem:"ImageGalleryItem_imageGalleryItem__sTGzg",imageGalleryItem_image:"ImageGalleryItem_imageGalleryItem_image__1veZs"}},17:function(e,t,a){e.exports={overlay:"Modal_overlay__3jc1b",modal:"Modal_modal__2duNE"}},27:function(e,t,a){e.exports={imageGallery:"ImageGallery_imageGallery__2IYih"}},28:function(e,t,a){e.exports={button:"Button_button__b6_P-"}},5:function(e,t,a){e.exports={searchbar:"SearchBar_searchbar__2ulpf",searchForm:"SearchBar_searchForm__1Rz1W",searchForm_button:"SearchBar_searchForm_button__3P1si",searchForm_button_label:"SearchBar_searchForm_button_label__2Ps9i",searchForm_input:"SearchBar_searchForm_input__aOAgA"}},75:function(e,t,a){},76:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(6),o=a.n(c),s=a(4),i=a.n(s),l=a(18),m=a(7),u=a(8),h=a(9),g=a(11),d=a(10),p=a(12),b=a(5),j=a.n(b),f=a(1),_=function(e){var t=e.onSearch;return Object(f.jsx)("header",{className:j.a.searchbar,children:Object(f.jsxs)("form",{className:j.a.searchForm,onSubmit:function(e){e.preventDefault(),t(e.target.elements.imageName.value),e.target.reset()},children:[Object(f.jsx)("button",{type:"submit",className:j.a.searchForm_button,children:Object(f.jsx)("span",{className:j.a.searchForm_button_label,children:"Search"})}),Object(f.jsx)("input",{className:j.a.searchForm_input,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",name:"imageName"})]})})},v=a(15),y=a.n(v);y.a.defaults.baseURL="https://pixabay.com/api";var x=function(){var e=Object(m.a)(i.a.mark((function e(t,a){var r,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("/?q=".concat(t,"&page=").concat(a,"&key=22647650-093efc913fe4b5bfd764725e8&image_type=photo&orientation=horizontal&per_page=12"));case 2:return r=e.sent,n=r.data,console.log(n),e.abrupt("return",n.hits);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),O=a(16),S=a.n(O),I=function(e){var t=e.webformatURL,a=e.largeImageURL,r=e.tags,n=e.handleSelectedImage;return Object(f.jsx)("li",{className:S.a.imageGalleryItem,children:Object(f.jsx)("img",{src:t,alt:r,className:S.a.imageGalleryItem_image,onClick:function(){return n(a,r)}})})},w=a(27),k=a.n(w),N=function(e){var t=e.images,a=e.handleSelectedImage;return Object(f.jsx)("ul",{className:k.a.imageGallery,children:t.map((function(e){var t=e.id,r=e.webformatURL,n=e.largeImageURL,c=e.tags;return Object(f.jsx)(I,{webformatURL:r,largeImageURL:n,tags:c,handleSelectedImage:a},t)}))})},F=a(28),L=a.n(F),U=function(e){var t=e.onClick;return Object(f.jsx)("button",{type:"button",className:L.a.button,onClick:t,children:"Load more"})},C=a(29),R=a.n(C),G=function(){return Object(f.jsx)("div",{style:{textAlign:"center"},children:Object(f.jsx)(R.a,{type:"Hearts",color:"#00BFFF",height:80,width:80})})},B=a(17),T=a.n(B),M=document.querySelector("#modal-root"),D=function(e){Object(g.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(u.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).handleKeyDown=function(t){"Escape"===t.code&&e.props.onClose()},e.handleBackdropClick=function(t){t.currentTarget===t.target&&e.props.onClose()},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){return Object(c.createPortal)(Object(f.jsx)("div",{className:T.a.overlay,onClick:this.handleBackdropClick,children:Object(f.jsxs)("div",{className:T.a.modal,children:[" ",Object(f.jsx)("img",{src:this.props.largeImageURL,alt:this.props.imgTag})]})}),M)}}]),a}(r.Component);D.defaultProps={onClose:function(){return null},children:null};var E=D,A=function(e){Object(g.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(u.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={imageName:null,images:[],status:"idle",page:1,error:null,largeImageURL:"",imgTags:""},e.handleFormSubmit=function(t){e.setState({imageName:t,page:1,images:[]})},e.handleLoadMore=function(){e.setState((function(e){return{page:e.page+1}}))},e.handleSelectedImage=function(t,a){e.setState({largeImageURL:t,imgTags:a})},e.closeModal=function(){e.setState({largeImageURL:""})},e}return Object(h.a)(a,[{key:"componentDidUpdate",value:function(){var e=Object(m.a)(i.a.mark((function e(t,a){var r,n,c,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.state,n=r.imageName,c=r.page,a.imageName===n&&a.page===c){e.next=21;break}return e.prev=2,this.setState({status:"pending"}),e.next=6,x(n,c);case 6:if(o=e.sent,this.setState({status:"resolved"}),""!==n.trim()&&0!==o.length){e.next=10;break}return e.abrupt("return",p.b.error("no picture with name ".concat(n)));case 10:this.setState({images:[].concat(Object(l.a)(this.state.images),Object(l.a)(o))}),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"}),e.next=18;break;case 14:return e.prev=14,e.t0=e.catch(2),this.setState({status:"rejected"}),e.abrupt("return",p.b.error("smt going wrong"));case 18:return e.prev=18,this.setState({loader:!1}),e.finish(18);case 21:case"end":return e.stop()}}),e,this,[[2,14,18,21]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.images,a=e.status,r=e.largeImageURL,n=e.imgTags;return Object(f.jsxs)("div",{children:[Object(f.jsx)(_,{onSearch:this.handleFormSubmit}),t.length<1&&Object(f.jsx)(f.Fragment,{children:Object(f.jsx)("h2",{className:"titleName",children:"The gallery is empty! Use search field!"})}),Object(f.jsx)(N,{images:t,handleSelectedImage:this.handleSelectedImage}),"pending"===a&&Object(f.jsx)(G,{}),0!==t.length&&Object(f.jsx)(U,{onClick:this.handleLoadMore}),Object(f.jsx)(p.a,{}),r&&Object(f.jsx)(E,{onClose:this.closeModal,largeImageURL:r,imgTags:n})]})}}]),a}(r.Component);a(75);o.a.render(Object(f.jsx)(n.a.StrictMode,{children:Object(f.jsx)(A,{})}),document.getElementById("root"))}},[[76,1,2]]]);
//# sourceMappingURL=main.c1115849.chunk.js.map