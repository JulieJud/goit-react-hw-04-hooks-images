{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Searchbar/SearchBar.module.css","components/Searchbar/Searchbar.jsx","services/imagesApi.js","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/Loader/Loader.jsx","components/Modal/Modal.jsx","components/App.js","index.js"],"names":["module","exports","SearchBar","onSearch","className","s","searchbar","searchForm","onSubmit","e","preventDefault","target","elements","imageName","value","reset","type","searchForm_button","searchForm_button_label","searchForm_input","autoComplete","autoFocus","placeholder","name","axios","defaults","baseURL","fetchImages","pageNumber","a","get","data","console","log","hits","ImageGalleryItem","webformatURL","largeImageURL","tags","handleSelectedImage","imageGalleryItem","src","alt","imageGalleryItem_image","onClick","ImageGallery","images","imageGallery","map","id","ButtonLoadMore","button","Spinner","style","textAlign","color","height","width","modalRoot","document","querySelector","Modal","handleKeyDown","code","props","onClose","handleBackdropClick","event","currentTarget","window","addEventListener","this","removeEventListener","createPortal","overlay","modal","imgTag","Component","defaultProps","children","App","state","status","page","error","imgTags","handleFormSubmit","setState","handleLoadMore","p","closeModal","_","prevState","trim","length","toast","scrollTo","top","documentElement","scrollHeight","behavior","loader","Button","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.c1115849.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGalleryItem\":\"ImageGalleryItem_imageGalleryItem__sTGzg\",\"imageGalleryItem_image\":\"ImageGalleryItem_imageGalleryItem_image__1veZs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__3jc1b\",\"modal\":\"Modal_modal__2duNE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__2IYih\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__b6_P-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"SearchBar_searchbar__2ulpf\",\"searchForm\":\"SearchBar_searchForm__1Rz1W\",\"searchForm_button\":\"SearchBar_searchForm_button__3P1si\",\"searchForm_button_label\":\"SearchBar_searchForm_button_label__2Ps9i\",\"searchForm_input\":\"SearchBar_searchForm_input__aOAgA\"};","import s from './SearchBar.module.css';\r\n\r\nconst SearchBar = ({ onSearch }) => {\r\n  return (\r\n    <header className={s.searchbar}>\r\n      <form\r\n        className={s.searchForm}\r\n        onSubmit={e => {\r\n          e.preventDefault();\r\n          onSearch(e.target.elements.imageName.value);\r\n          e.target.reset();\r\n        }}\r\n      >\r\n        <button type=\"submit\" className={s.searchForm_button}>\r\n          <span className={s.searchForm_button_label}>Search</span>\r\n        </button>\r\n\r\n        <input\r\n          className={s.searchForm_input}\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n          name=\"imageName\"\r\n        />\r\n      </form>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default SearchBar;\r\n","import axios from 'axios';\r\n\r\naxios.defaults.baseURL = 'https://pixabay.com/api';\r\n\r\nconst fetchImages = async (imageName, pageNumber) => {\r\n  const { data } = await axios.get(\r\n    `/?q=${imageName}&page=${pageNumber}&key=22647650-093efc913fe4b5bfd764725e8&image_type=photo&orientation=horizontal&per_page=12`,\r\n  );\r\n  console.log(data);\r\n  return data.hits;\r\n};\r\n\r\nexport default fetchImages;\r\n","import PropTypes from 'prop-types';\r\nimport s from './ImageGalleryItem.module.css';\r\n\r\nconst ImageGalleryItem = ({\r\n  webformatURL,\r\n  largeImageURL,\r\n  tags,\r\n  handleSelectedImage,\r\n}) => {\r\n  return (\r\n    <li className={s.imageGalleryItem}>\r\n      <img\r\n        src={webformatURL}\r\n        alt={tags}\r\n        className={s.imageGalleryItem_image}\r\n        onClick={() => handleSelectedImage(largeImageURL, tags)}\r\n      />\r\n    </li>\r\n  );\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  image: PropTypes.shape({\r\n    webformatURL: PropTypes.string.isRequired,\r\n    largeImageURL: PropTypes.string.isRequired,\r\n    tags: PropTypes.string,\r\n  }),\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import PropTypes from 'prop-types';\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\nimport s from './ImageGallery.module.css';\r\n\r\nconst ImageGallery = ({ images, handleSelectedImage }) => {\r\n  return (\r\n    <ul className={s.imageGallery}>\r\n      {images.map(({ id, webformatURL, largeImageURL, tags }) => (\r\n        <ImageGalleryItem\r\n          key={id}\r\n          webformatURL={webformatURL}\r\n          largeImageURL={largeImageURL}\r\n          tags={tags}\r\n          handleSelectedImage={handleSelectedImage}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nImageGallery.propTypes = {\r\n  images: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.number.isRequired,\r\n    }),\r\n  ),\r\n};\r\n\r\nexport default ImageGallery;\r\n","import PropTypes from 'prop-types';\r\nimport s from './Button.module.css';\r\n\r\nconst ButtonLoadMore = ({ onClick }) => {\r\n  return (\r\n    <button type=\"button\" className={s.button} onClick={onClick}>\r\n      Load more\r\n    </button>\r\n  );\r\n};\r\nButtonLoadMore.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ButtonLoadMore;\r\n","import Loader from 'react-loader-spinner';\r\n\r\nimport React from 'react';\r\n\r\nconst Spinner = () => {\r\n  const style = { textAlign: 'center' };\r\n  return (\r\n    <div style={style}>\r\n      <Loader type=\"Hearts\" color=\"#00BFFF\" height={80} width={80} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Spinner;\r\n","import { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\nimport s from './Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleBackdropClick = event => {\r\n    if (event.currentTarget === event.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div className={s.overlay} onClick={this.handleBackdropClick}>\r\n        <div className={s.modal}>\r\n          {' '}\r\n          <img src={this.props.largeImageURL} alt={this.props.imgTag} />\r\n        </div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n\r\nModal.defaultProps = {\r\n  onClose: () => null,\r\n  children: null,\r\n};\r\n\r\nModal.propTypes = {\r\n  onClose: PropTypes.func,\r\n  children: PropTypes.node,\r\n};\r\n\r\nexport default Modal;\r\n","import { Component } from 'react';\r\nimport toast, { Toaster } from 'react-hot-toast';\r\nimport SearchBar from './Searchbar/Searchbar';\r\nimport fetchImages from '../services/imagesApi';\r\nimport ImageGallery from './ImageGallery/ImageGallery';\r\nimport ButtonLoadMore from './Button/Button';\r\nimport Spinner from './Loader/Loader';\r\nimport Modal from './Modal/Modal';\r\n\r\nexport class App extends Component {\r\n  state = {\r\n    imageName: null,\r\n    images: [],\r\n    status: 'idle',\r\n    page: 1,\r\n    error: null,\r\n    largeImageURL: '',\r\n    imgTags: '',\r\n  };\r\n\r\n  handleFormSubmit = imageName => {\r\n    this.setState({ imageName, page: 1, images: [] });\r\n  };\r\n\r\n  handleLoadMore = () => {\r\n    this.setState(p => ({ page: p.page + 1 }));\r\n  };\r\n\r\n  async componentDidUpdate(_, prevState) {\r\n    const { imageName, page } = this.state;\r\n\r\n    if (prevState.imageName !== imageName || prevState.page !== page) {\r\n      try {\r\n        this.setState({ status: 'pending' });\r\n        const images = await fetchImages(imageName, page);\r\n\r\n        this.setState({ status: 'resolved' });\r\n\r\n        if (imageName.trim() === '' || images.length === 0) {\r\n          return toast.error(`no picture with name ${imageName}`);\r\n        }\r\n\r\n        this.setState({\r\n          images: [...this.state.images, ...images],\r\n        });\r\n\r\n        window.scrollTo({\r\n          top: document.documentElement.scrollHeight,\r\n          behavior: 'smooth',\r\n        });\r\n      } catch (error) {\r\n        this.setState({ status: 'rejected' });\r\n        return toast.error('smt going wrong');\r\n      } finally {\r\n        this.setState({ loader: false });\r\n      }\r\n    }\r\n  }\r\n\r\n  handleSelectedImage = (largeImageURL, imgTags) => {\r\n    this.setState({ largeImageURL, imgTags });\r\n  };\r\n\r\n  closeModal = () => {\r\n    this.setState({ largeImageURL: '' });\r\n  };\r\n\r\n  render() {\r\n    const { images, status, largeImageURL, imgTags } = this.state;\r\n    return (\r\n      <div>\r\n        <SearchBar onSearch={this.handleFormSubmit} />\r\n        {images.length < 1 && (\r\n          <>\r\n            <h2 className=\"titleName\">\r\n              The gallery is empty! Use search field!\r\n            </h2>\r\n          </>\r\n        )}\r\n\r\n        <ImageGallery\r\n          images={images}\r\n          handleSelectedImage={this.handleSelectedImage}\r\n        />\r\n        {status === 'pending' && <Spinner />}\r\n\r\n        {images.length !== 0 && (\r\n          <ButtonLoadMore onClick={this.handleLoadMore} />\r\n        )}\r\n\r\n        <Toaster />\r\n        {largeImageURL && (\r\n          <Modal\r\n            onClose={this.closeModal}\r\n            largeImageURL={largeImageURL}\r\n            imgTags={imgTags}\r\n          />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './components/App';\r\nimport './index.css';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n"],"sourceRoot":""}